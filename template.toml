[template]
name = "WordPress + Redis Stack"
description = "Production-ready WordPress deployment with MariaDB, Redis caching, Nginx, and phpMyAdmin"

[variables]
domain = "${domain}"
main_domain = "${domain}"
db_name = "wordpress"
db_user = "wordpress"
db_password = "${password:32}"
db_root_password = "${password:32}"

[config]
env = [
  "MYSQL_ROOT_PASSWORD=${db_root_password}",
  "MYSQL_DATABASE=${db_name}",
  "MYSQL_USER=${db_user}",
  "MYSQL_PASSWORD=${db_password}",
  "WORDPRESS_DB_PASSWORD=${db_password}",
  "WORDPRESS_DB_HOST=db",
  "WORDPRESS_DB_USER=${db_user}",
  "WORDPRESS_DB_NAME=${db_name}"
]

[[config.domains]]
serviceName = "nginx"
port = 80
host = "${main_domain}"
